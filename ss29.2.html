<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let product = [
        {
          id: 1,
          name: "áo phông",
          price: 100000,
          category: "áo",
          quantity: 10,
        },

        {
          id: 2,
          name: "quần ống rộng",
          price: 150000,
          category: "quần",
          quantity: 15,
        },
      ];

      //thêm
      function addProduct() {
        let id = +prompt("Nhập vào ID bạn muốn");
        let name = prompt("Nhập tên bạn muốn");
        let price = +prompt("Nhập vào giá bạn muốn");
        let category = prompt("Nhập vào loại bạn muốn");
        let quantity = +prompt("Nhập vào số lượng bạn muốn");

        let newProduct = {
          id: id,
          name: name,
          price: price,
          category: category,
          quantity: quantity,
        };
        product.push(newProduct);
        console.log("Đã thêm sản phẩm mới ");
      }

      // hiển thị
      function display() {
        console.log("Danh sách sản phẩm:");
        product.forEach((products) => {
          console.log(`
            ID: ${products.id} ,
            Tên: ${products.name},
            price: ${products.price},
            category: ${products.category}
            Quantity: ${products.quantity}`);
        });
      }

      //hiển thị theo id
      function search() {
        let searchID = +prompt("Nhập ID bạn muốn tìm kiếm");
        product.forEach((products) => {
          if (products.id === searchID) {
            console.log(`
             ID: ${products.id} ,
            Tên: ${products.name},
            price: ${products.price},
            category: ${products.category}
            Quantity: ${products.quantity}
            `);
          }
        });
      }

      // cập nhật theo id
      function updateContact() {
        let searchId = +prompt("Nhập vào ID mà bạn muốn tìm kiếm");
        product.forEach((products) => {
          if (products.id === searchId) {
            let name = prompt("Nhập tên bạn muốn");
            let price = +prompt("Nhập vào giá bạn muốn");
            let category = prompt("Nhập vào loại bạn muốn");
            let quantity = +prompt("Nhập vào số lượng bạn muốn");

            products.name = name;
            products.price = price;
            products.category = category;
            products.quantity = quantity;
            console.log("Cập nhật thành công");
          }
        });
      }

      //xóa
      function deleteProduct() {
        let searchID = +prompt("Nhập vào ID mà bạn muốn xóa :");
        let index = product.findIndex((products) => products.id === searchID);

        if (index !== -1) {
          product.splice(index, 1);
          console.log("Xóa thành công");
        } else {
          console.log("không tìm thấy ID");
        }
      }
      // khoảng giá
      function filterByPrice() {
        let minPrice = +prompt("Nhập giá tối thiểu:");
        let maxPrice = +prompt("Nhập giá tối đa:");

        let filteredProducts = product.filter(
          (p) => p.price >= minPrice && p.price <= maxPrice
        );

        if (filteredProducts.length > 0) {
          console.log(
            `Danh sách sản phẩm có giá từ ${minPrice} đến ${maxPrice}:`
          );
          filteredProducts.forEach((p) => {
            console.log(`
        ID: ${p.id},
        Tên: ${p.name},
        Giá: ${p.price},
        Loại: ${p.category},
        Số lượng: ${p.quantity}
      `);
          });
        } else {
          console.log("Không có sản phẩm nào trong khoảng giá này.");
        }
      }
      do {
        console.log(`1.Thêm sản phảm vào danh sách sản phẩm`);
        console.log(`2.Hiện thị tất cả sản phẩm`);
        console.log(`3.Hiển thị chi tiết sản phẩm theo id`);
        console.log(
          `4.Cập nhật thông tin sản phẩm (name,price,category,quantity) theo id`
        );
        console.log(`5.Xóa sảm phẩm theo id.`);
        console.log(`6.Lọc sản phẩm theo khoảng giá.`);
        console.log(`7.Thoát`);
        choice = +prompt("Lụa chọn của bạn");
        switch (choice) {
          case 1:
            addProduct();
            break;
          case 2:
            display();
            break;
          case 3:
            search();
            break;
          case 4:
            updateContact();
            break;
          case 5:
            deleteProduct();
            break;
          case 6:
            filterByPrice();
            break;
          case 7:
            break;
        }
      } while (choice !== 7);
    </script>
  </body>
</html>
